{"version":3,"file":"index-5549edda.js","sources":["../../../src/components/molecules/Dropdown/index.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nimport styles from './index.module.scss';\nimport { cleanClassName } from '../../../utils';\nimport { FocusLayer } from '../../atoms';\n\nimport type { FocusLayerProps } from '../../atoms';\n\nexport interface DropdownProps {\n  opened?: boolean;\n  children?: React.ReactNode;\n  className?: string;\n  onClose?: FocusLayerProps['onBlur'];\n}\n\nexport const Dropdown = ({\n  opened = false,\n  children,\n  className,\n  onClose,\n}: DropdownProps) => {\n  const [openState, setOpenState] = useState<boolean | 'closing'>(opened);\n  useEffect(\n    () =>\n      setOpenState((prevOpenState) => {\n        if (opened) {\n          return true;\n        }\n        if (prevOpenState) {\n          return 'closing';\n        }\n        return prevOpenState;\n      }),\n    [opened],\n  );\n\n  useEffect(() => {\n    if (openState === 'closing') {\n      const timeout = setTimeout(() => {\n        setOpenState(false);\n      }, 300);\n      return () => clearTimeout(timeout);\n    }\n  }, [openState]);\n\n  return openState ? (\n    <FocusLayer\n      bodyScroll\n      focused={!!openState}\n      onBlur={onClose}\n      className={cleanClassName(\n        `${styles.dropdown} ${\n          openState === 'closing' && styles.closing\n        } ${className}`,\n      )}\n    >\n      {children}\n    </FocusLayer>\n  ) : (\n    <></>\n  );\n};\n"],"names":["Dropdown","opened","children","className","onClose","openState","setOpenState","useState","useEffect","prevOpenState","timeout","jsx","FocusLayer","cleanClassName","styles","Fragment"],"mappings":"khCAeOA,EAAA,CAAA,CAAkB,OAAAC,EAAA,GACd,SAAAC,EACT,UAAAC,EACA,QAAAC,CAEF,IAAA,CACE,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAAN,CAAA,EACAO,OAAAA,EAAA,UAAA,IAAAF,EAAAG,GAGMR,EACE,GAEFQ,GACE,SAEK,EACR,CAAAR,CAAA,CACI,EAGTO,EAAAA,UAAA,IAAA,CACE,GAAAH,IAAA,UAAA,CACE,MAAAK,EAAA,WAAA,IAAA,CACEJ,EAAA,EAAA,CAAkB,EAAA,GAAA,EAEpB,MAAA,IAAA,aAAAI,CAAA,CAAiC,CACnC,EAAA,CAAAL,CAAA,CAAA,EAGFA,EAAAM,EAAA,IACEC,EAAC,CAAA,WAAA,GACW,QAAA,CAAA,CAAAP,EACC,OAAAD,EACH,UAAAS,EACG,GAAAC,EAAA,QAAA,IAAAT,IAAA,WAAAS,EAAA,OAAA,IAAAX,CAAA,EAGI,EACf,SAAAD,CAEC,CAAA,EAAAS,EAAA,IAAAI,WAAA,CAAA,CAAA,CAKP"}