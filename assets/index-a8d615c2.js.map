{"version":3,"file":"index-a8d615c2.js","sources":["../../../src/components/molecules/Accordion/index.tsx"],"sourcesContent":["import { createContext, useContext, useRef } from 'react';\nimport type { Dispatch, SetStateAction } from 'react';\nimport { ChevronDown } from 'react-feather';\n\nimport styles from './index.module.scss';\nimport { useSubscribedState } from '../../../hooks';\nimport { cleanClassName } from '../../../utils';\nimport { Hr } from '../../atoms';\n\ninterface CommonProps {\n  children?: React.ReactNode;\n  className?: string;\n}\n\nconst AccordionContext = createContext<\n  [boolean, Dispatch<SetStateAction<boolean>> | undefined]\n>([false, undefined]);\n\nexport interface AccordionProps extends CommonProps {\n  opened?: boolean;\n}\nconst AccordionMain = ({\n  children,\n  className,\n  opened = false,\n}: AccordionProps) => {\n  const openState = useSubscribedState(opened);\n  return (\n    <dl\n      className={cleanClassName(\n        `${styles['accordian-container']} ${className}`,\n      )}\n    >\n      <AccordionContext.Provider value={openState}>\n        {children}\n      </AccordionContext.Provider>\n    </dl>\n  );\n};\n\nexport type AccordionTitleProps = CommonProps;\nconst AccordionTitle = ({ children, className }: AccordionTitleProps) => {\n  const [opened, setOpened] = useContext(AccordionContext);\n  return (\n    <dt className={styles['accordian-title-wrap']}>\n      <button\n        type=\"button\"\n        className={cleanClassName(`${styles['accordian-title']} ${className}`)}\n        onClick={() => setOpened?.(() => !opened)}\n      >\n        <div className={styles['title-contents']}>{children}</div>\n        <ChevronDown\n          className={cleanClassName(\n            `${styles['chevron-down-icon']} ${opened && styles.opened}`,\n          )}\n        />\n      </button>\n    </dt>\n  );\n};\n\nexport type AccordionContentsProps = CommonProps;\nconst AccordionContents = ({ children, className }: AccordionContentsProps) => {\n  const [opened] = useContext(AccordionContext);\n  const ref = useRef<HTMLElement>(null);\n  return (\n    <dd\n      className={cleanClassName(`${styles['accordian-contents-wrap']}`)}\n      style={{\n        height: opened ? ref.current?.scrollHeight ?? 0 : 0,\n      }}\n    >\n      <Hr />\n      <article\n        ref={ref}\n        className={cleanClassName(\n          `${styles['accordian-contents']} ${\n            opened && styles.opened\n          } ${className}`,\n        )}\n      >\n        {children}\n      </article>\n    </dd>\n  );\n};\n\nexport const Accordion = Object.assign(AccordionMain, {\n  Title: AccordionTitle,\n  Contents: AccordionContents,\n});\n"],"names":["AccordionContext","createContext","AccordionMain","children","className","opened","openState","useSubscribedState","jsx","cleanClassName","styles","AccordionTitle","setOpened","useContext","jsxs","ChevronDown","AccordionContents","ref","useRef","_a","Hr","Accordion"],"mappings":"4jDAcAA,EAAAC,EAAAA,cAAA,CAAA,GAAA,MAAA,CAAA,EAOAC,EAAA,CAAA,CAAuB,SAAAC,EACrB,UAAAC,EACA,OAAAC,EAAA,EAEF,IAAA,CACE,MAAAC,EAAAC,EAAAF,CAAA,EACA,OAAAG,EAAA,IACE,KAAC,CAAA,UAAAC,EACY,GAAAC,EAAA,qBAAA,KAAAN,GAC2B,EACtC,SAAAI,EAAA,IAAAR,EAAA,SAAA,CAAA,MAAAM,EAAA,SAAAH,EAAA,CAIA,CAAA,CAGN,EAGAQ,EAAA,CAAA,CAAA,SAAAR,EAAA,UAAAC,KAAA,CACE,KAAA,CAAAC,EAAAO,CAAA,EAAAC,EAAA,WAAAb,CAAA,EACA,OAAAQ,EAAAA,IAAA,KAAA,CAAA,UAAAE,EAAA,sBAAA,EAAA,SAAAI,EAAA,KAEI,SAAC,CAAA,KAAA,SACM,UAAAL,EAAA,GAAAC,EAAA,iBAAA,KAAAN,GAAA,EACgE,QAAA,IAAAQ,GAAA,YAAAA,EAAA,IAAA,CAAAP,GAC7B,SAAA,CAExCG,EAAA,IAAA,MAAA,CAAA,UAAAE,EAAA,gBAAA,EAAA,SAAAP,EAAA,EAAoDK,EAAA,IACpDO,EAAC,CAAA,UAAAN,EACY,GAAAC,EAAA,mBAAA,KAAAL,GAAAK,EAAA,QAC0C,CACrD,CAAA,CACF,CAAA,CAAA,CAAA,CAAA,CAIR,EAGAM,EAAA,CAAA,CAAA,SAAAb,EAAA,UAAAC,KAAA,OACE,KAAA,CAAAC,CAAA,EAAAQ,EAAA,WAAAb,CAAA,EACAiB,EAAAC,SAAA,IAAA,EACA,OAAAJ,EAAA,KACE,KAAC,CAAA,UAAAL,EAAA,GAAAC,EAAA,yBAAA,GAAA,EACiE,MAAA,CACzD,OAAAL,IAAAc,EAAAF,EAAA,UAAA,YAAAE,EAAA,eAAA,EAAA,CAC6C,EACpD,SAAA,CAEAX,EAAA,IAAAY,EAAA,EAAA,EAAIZ,EAAA,IACJ,UAAC,CAAA,IAAAS,EACC,UAAAR,EACW,GAAAC,EAAA,oBAAA,KAAAL,GAAAK,EAAA,UAAAN,GAGL,EACN,SAAAD,CAEC,CAAA,CACH,CAAA,CAAA,CAGN,EAEOkB,EAAA,OAAA,OAAAnB,EAAA,CAA+C,MAAAS,EAC7C,SAAAK,CAET,CAAA"}