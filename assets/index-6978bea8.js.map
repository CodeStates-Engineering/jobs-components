{"version":3,"file":"index-6978bea8.js","sources":["../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/throttle.js","../../../src/hooks/public/useMountedEffect.tsx","../../../src/components/atoms/Tooltip/index.tsx"],"sourcesContent":["import debounce from './debounce.js';\nimport isObject from './isObject.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nexport default throttle;\n","import { useEffect, useRef } from 'react';\n\nexport function useMountedEffect(\n  effect: React.EffectCallback,\n  deps?: React.DependencyList | undefined,\n) {\n  const isMounted = useRef(false);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(\n    isMounted.current\n      ? effect\n      : () => {\n          isMounted.current = true;\n        },\n    deps,\n  );\n}\n","import { throttle } from 'lodash-es';\n\nimport { useState, createContext, useMemo, useContext } from 'react';\nimport type { MouseEventHandler } from 'react';\n\nimport styles from './index.module.scss';\nimport { useMountedEffect } from '../../../hooks';\nimport { cleanClassName } from '../../../utils';\n\ntype HandleMouse = MouseEventHandler<HTMLDivElement> | undefined;\ntype Displayed = boolean | 'closing';\ninterface Coordinates {\n  left: number;\n  top: number;\n}\n\ninterface TooltipContextType {\n  displayed: Displayed;\n  coordinates?: Coordinates;\n  handleMouseMove?: HandleMouse;\n  handleMouseEnterLeave?: {\n    onMouseEnter: HandleMouse;\n    onMouseLeave: HandleMouse;\n  };\n}\n\nconst TooltipContext = createContext<TooltipContextType>({\n  displayed: false,\n  coordinates: {\n    left: 0,\n    top: 0,\n  },\n});\n\ninterface CommonProps {\n  children?: React.ReactNode;\n  className?: string;\n}\n\nexport interface TooltipProps {\n  children?: React.ReactNode;\n  mouseEnterDelay?: number;\n}\n\nconst TooltipMain = ({ children, mouseEnterDelay = 200 }: TooltipProps) => {\n  const [hovered, setHovered] = useState(false);\n  const [displayed, setDisplayed] = useState<Displayed>(false);\n  const [coordinates, setCoordinates] = useState<Coordinates>();\n\n  useMountedEffect(() => {\n    if (displayed === 'closing') {\n      const closeTimer = setTimeout(() => setDisplayed(false), 100);\n      return () => clearTimeout(closeTimer);\n    }\n  }, [displayed]);\n\n  useMountedEffect(() => {\n    if (hovered) {\n      const openTimer = setTimeout(() => setDisplayed(true), mouseEnterDelay);\n      return () => clearTimeout(openTimer);\n    }\n    setDisplayed((prev) => (prev === true ? 'closing' : prev));\n  }, [hovered]);\n\n  const throttledSetCoordinates = useMemo(\n    () =>\n      throttle((e) => {\n        setCoordinates({\n          left: e.clientX,\n          top: e.clientY + 10,\n        });\n      }, 100),\n    [],\n  );\n\n  const tooltipContext = useMemo(\n    () => ({\n      displayed,\n      coordinates,\n      handleMouseMove: throttledSetCoordinates,\n      handleMouseEnterLeave: {\n        onMouseEnter: () => setHovered(true),\n        onMouseLeave: () => setHovered(false),\n      },\n    }),\n    [coordinates, displayed, throttledSetCoordinates],\n  );\n\n  return (\n    <TooltipContext.Provider value={tooltipContext}>\n      {children}\n    </TooltipContext.Provider>\n  );\n};\n\nexport type TooltipAreaProps = CommonProps;\n\nconst TooltipArea = ({ children, className }: TooltipAreaProps) => {\n  const { handleMouseMove, handleMouseEnterLeave } = useContext(TooltipContext);\n  return (\n    <div\n      {...handleMouseEnterLeave}\n      className={cleanClassName(`${styles.tooltip} ${className}`)}\n      onMouseMove={handleMouseMove}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport type TooltipContentProps = CommonProps;\n\nconst TooltipContent = ({ children, className }: TooltipContentProps) => {\n  const { displayed, coordinates, handleMouseEnterLeave } =\n    useContext(TooltipContext);\n\n  return displayed ? (\n    <div\n      {...handleMouseEnterLeave}\n      className={`${styles['tooltip-message-container']} ${\n        displayed === 'closing' && styles.closing\n      }`}\n      style={coordinates}\n    >\n      <div className={styles.triangle} />\n      <div\n        className={cleanClassName(\n          `${styles['tooltip-message-wrap']} ${className}`,\n        )}\n      >\n        {children}\n      </div>\n    </div>\n  ) : null;\n};\n\nexport const Tooltip = Object.assign(TooltipMain, {\n  Area: TooltipArea,\n  Content: TooltipContent,\n});\n"],"names":["FUNC_ERROR_TEXT","throttle","func","wait","options","leading","trailing","isObject","debounce","useMountedEffect","effect","deps","isMounted","useRef","useEffect","TooltipContext","createContext","TooltipMain","children","mouseEnterDelay","hovered","setHovered","useState","displayed","setDisplayed","coordinates","setCoordinates","closeTimer","openTimer","prev","throttledSetCoordinates","useMemo","e","tooltipContext","jsx","TooltipArea","className","handleMouseMove","handleMouseEnterLeave","useContext","cleanClassName","styles","TooltipContent","jsxs","Tooltip"],"mappings":"gOAIA,IAAIA,EAAkB,sBA8CtB,SAASC,EAASC,EAAMC,EAAMC,EAAS,CACrC,IAAIC,EAAU,GACVC,EAAW,GAEf,GAAI,OAAOJ,GAAQ,WACjB,MAAM,IAAI,UAAUF,CAAe,EAErC,OAAIO,EAASH,CAAO,IAClBC,EAAU,YAAaD,EAAU,CAAC,CAACA,EAAQ,QAAUC,EACrDC,EAAW,aAAcF,EAAU,CAAC,CAACA,EAAQ,SAAWE,GAEnDE,EAASN,EAAMC,EAAM,CAC1B,QAAWE,EACX,QAAWF,EACX,SAAYG,CAChB,CAAG,CACH,CChEgB,SAAAG,EACdC,EACAC,EACA,CACM,MAAAC,EAAYC,SAAO,EAAK,EAE9BC,EAAA,UACEF,EAAU,QACNF,EACA,IAAM,CACJE,EAAU,QAAU,EACtB,EACJD,CAAA,CAEJ,0+BCUAI,EAAAC,EAAAA,cAAA,CAAyD,UAAA,GAC5C,YAAA,CACE,KAAA,EACL,IAAA,CACD,CAET,CAAA,EAYAC,EAAA,CAAA,CAAA,SAAAC,EAAA,gBAAAC,EAAA,GAAA,IAAA,CACE,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAAA,EACA,CAAAC,EAAAC,CAAA,EAAAF,EAAA,SAAA,EAAA,EACA,CAAAG,EAAAC,CAAA,EAAAJ,EAAA,SAAA,EAEAb,EAAA,IAAA,CACE,GAAAc,IAAA,UAAA,CACE,MAAAI,EAAA,WAAA,IAAAH,EAAA,EAAA,EAAA,GAAA,EACA,MAAA,IAAA,aAAAG,CAAA,CAAoC,CACtC,EAAA,CAAAJ,CAAA,CAAA,EAGFd,EAAA,IAAA,CACE,GAAAW,EAAA,CACE,MAAAQ,EAAA,WAAA,IAAAJ,EAAA,EAAA,EAAAL,CAAA,EACA,MAAA,IAAA,aAAAS,CAAA,CAAmC,CAErCJ,EAAAK,GAAAA,IAAA,GAAA,UAAAA,CAAA,CAAyD,EAAA,CAAAT,CAAA,CAAA,EAG3D,MAAAU,EAAAC,EAAA,QAAgC,IAAA9B,EAAA+B,GAAA,CAG1BN,EAAA,CAAe,KAAAM,EAAA,QACL,IAAAA,EAAA,QAAA,EACS,CAAA,CAClB,EAAA,GAAA,EACG,CAAA,CACP,EAGHC,EAAAF,EAAA,QAAuB,KAAA,CACd,UAAAR,EACL,YAAAE,EACA,gBAAAK,EACiB,sBAAA,CACM,aAAA,IAAAT,EAAA,EAAA,EACc,aAAA,IAAAA,EAAA,EAAA,CACC,CACtC,GACF,CAAAI,EAAAF,EAAAO,CAAA,CACgD,EAGlD,OAAAI,EAAAA,IAAAnB,EAAA,SAAA,CAAA,MAAAkB,EAAA,SAAAf,CAAA,CAAA,CAKF,EAIAiB,EAAA,CAAA,CAAA,SAAAjB,EAAA,UAAAkB,KAAA,CACE,KAAA,CAAA,gBAAAC,EAAA,sBAAAC,CAAA,EAAAC,EAAA,WAAAxB,CAAA,EACA,OAAAmB,EAAA,IACE,MAAC,CAAA,GAAAI,EACK,UAAAE,EAAA,GAAAC,EAAA,OAAA,IAAAL,CAAA,EAAA,EACsD,YAAAC,EAC7C,SAAAnB,CAEZ,CAAA,CAGP,EAIAwB,EAAA,CAAA,CAAA,SAAAxB,EAAA,UAAAkB,KAAA,CACE,KAAA,CAAA,UAAAb,EAAA,YAAAE,EAAA,sBAAAa,CAAA,EAAAC,EAAAA,WAAAxB,CAAA,EAGA,OAAAQ,EAAAoB,EAAA,KACE,MAAC,CAAA,GAAAL,EACK,UAAA,GAAAG,EAAA,2BAAA,CAAA,IAAAlB,IAAA,WAAAkB,EAAA,OAAA,GAGJ,MAAAhB,EACO,SAAA,CAEPS,EAAAA,IAAA,MAAA,CAAA,UAAAO,EAAA,QAAA,CAAA,EAAiCP,EAAA,IACjC,MAAC,CAAA,UAAAM,EACY,GAAAC,EAAA,sBAAA,CAAA,IAAAL,CAAA,EACqC,EAChD,SAAAlB,CAEC,CAAA,CACH,CAAA,CAAA,EAAA,IAGN,EAEO0B,EAAA,OAAA,OAAA3B,EAAA,CAA2C,KAAAkB,EAC1C,QAAAO,CAER,CAAA","x_google_ignoreList":[0]}