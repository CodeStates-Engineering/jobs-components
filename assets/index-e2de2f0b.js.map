{"version":3,"file":"index-e2de2f0b.js","sources":["../../../src/components/molecules/Selectbox/index.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { ChevronDown } from 'react-feather';\n\nimport type {\n  InputProps,\n  OptionsProps,\n  ValidOptionValue,\n  InputWrapProps,\n  LabelWithInputProps,\n} from '@components/atoms';\nimport { FocusLayer, Options, Input, Label } from '@components/atoms';\nimport type { ValidateHandler, UseTypographyClassNameParams } from '@hooks';\nimport { useSubscribedState, useValidationMessage } from '@hooks';\n\nimport styles from './index.module.scss';\n\nexport interface SelectboxProps<\n  _ValidOptionValue = ValidOptionValue,\n  _Multiple = boolean,\n> extends Pick<\n      OptionsProps<_ValidOptionValue, _Multiple>,\n      | 'options'\n      | 'float'\n      | 'onChange'\n      | 'value'\n      | 'multiple'\n      | 'optionStyle'\n      | 'textEllipsis'\n    >,\n    Pick<InputProps<'button'>, 'disabled' | 'placeholder' | 'id' | 'ref'>,\n    Pick<InputWrapProps, 'onClick' | 'readOnly'>,\n    Omit<LabelWithInputProps, 'children'> {\n  validation?: ValidateHandler<SelectboxProps<_ValidOptionValue>['value']>;\n  inputStyle?: Pick<InputWrapProps, 'borderRadius' | 'size' | 'width'> &\n    UseTypographyClassNameParams;\n  description?: InputWrapProps['description'];\n  cancelable?: boolean;\n  requireMessage?: string;\n}\n\nexport const Selectbox = <\n  _ValidOptionValue extends ValidOptionValue = ValidOptionValue,\n  _Multiple extends boolean = false,\n>({\n  value,\n  options,\n  onChange,\n  float,\n  disabled,\n  placeholder,\n  id,\n  ref,\n  onClick,\n  label,\n  validation,\n  className,\n  inputStyle,\n  labelStyle,\n  multiple,\n  optionStyle,\n  description,\n  readOnly,\n  cancelable = true,\n  textEllipsis,\n  requireMessage,\n}: SelectboxProps<_ValidOptionValue, _Multiple>) => {\n  const [opened, setOpened] = useState(false);\n\n  const [selectedValue, setSelectedValue] = useSubscribedState(value);\n\n  const selectedOption = options?.find(({ value }) => value === selectedValue);\n\n  const { validationMessage, validateOnChange, isRequried } =\n    useValidationMessage({\n      key: label,\n      validateHandler: validation,\n      value: selectedValue,\n      validationTrigger: 'onChange',\n      requireMessage,\n    });\n\n  return (\n    <Label.WithInput\n      label={label}\n      inputStyle={inputStyle}\n      labelStyle={labelStyle}\n      className={className}\n      required={isRequried}\n    >\n      <FocusLayer\n        onBlur={() => setOpened(false)}\n        focused={opened}\n        bodyScroll\n        className={styles['layer-width']}\n      >\n        <Input.Wrap\n          validationMessage={validationMessage}\n          size={inputStyle?.size}\n          borderRadius={inputStyle?.borderRadius}\n          width={inputStyle?.width}\n          onClick={(e) => {\n            setOpened(!opened);\n            onClick?.(e);\n          }}\n          description={description}\n          className={styles['align-end']}\n          readOnly={readOnly}\n        >\n          <Input\n            id={id}\n            name={label}\n            type=\"button\"\n            ref={ref}\n            value={selectedOption?.label}\n            disabled={disabled || readOnly}\n            placeholder={placeholder}\n            fontSize={inputStyle?.fontSize}\n            fontWeight={inputStyle?.fontWeight}\n            readOnly={readOnly}\n          />\n          <ChevronDown />\n        </Input.Wrap>\n        <Options\n          cancelable={cancelable}\n          opened={opened}\n          options={options}\n          multiple={multiple}\n          value={selectedValue}\n          float={float}\n          optionStyle={optionStyle}\n          onChange={(value) => {\n            setSelectedValue?.(value);\n            validateOnChange?.(value);\n            onChange?.(value);\n            if (!multiple) {\n              setOpened(false);\n            }\n          }}\n          textEllipsis={textEllipsis}\n        />\n      </FocusLayer>\n    </Label.WithInput>\n  );\n};\n"],"names":["Selectbox","value","options","onChange","float","disabled","placeholder","id","ref","onClick","label","validation","className","inputStyle","labelStyle","multiple","optionStyle","description","readOnly","cancelable","textEllipsis","requireMessage","opened","setOpened","useState","selectedValue","setSelectedValue","useSubscribedState","selectedOption","value2","validationMessage","validateOnChange","isRequried","useValidationMessage","jsx","Label","jsxs","FocusLayer","styles","Input","e","ChevronDown","Options"],"mappings":"whBAwCOA,EAAA,CAAA,CAGL,MAAAC,EACA,QAAAC,EACA,SAAAC,EACA,MAAAC,EACA,SAAAC,EACA,YAAAC,EACA,GAAAC,EACA,IAAAC,EACA,QAAAC,EACA,MAAAC,EACA,WAAAC,EACA,UAAAC,EACA,WAAAC,EACA,WAAAC,EACA,SAAAC,EACA,YAAAC,EACA,YAAAC,EACA,SAAAC,EACA,WAAAC,EAAA,GACa,aAAAC,EACb,eAAAC,CAEF,IAAA,CACE,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAAA,EAEA,CAAAC,EAAAC,CAAA,EAAAC,EAAA1B,CAAA,EAEA2B,EAAA1B,GAAA,YAAAA,EAAA,KAAA,CAAA,CAAA,MAAA2B,CAAA,IAAAA,IAAAJ,GAEA,CAAA,kBAAAK,EAAA,iBAAAC,EAAA,WAAAC,CAAA,EAAAC,EAAA,CACuB,IAAAvB,EACd,gBAAAC,EACY,MAAAc,EACV,kBAAA,WACY,eAAAJ,CACnB,CAAA,EAGJ,OAAAa,EAAA,IACEC,EAAA,UAAO,CAAN,MAAAzB,EACC,WAAAG,EACA,WAAAC,EACA,UAAAF,EACA,SAAAoB,EACU,SAAAI,EAAA,KAEVC,EAAC,CAAA,OAAA,IAAAd,EAAA,EAAA,EAC8B,QAAAD,EACpB,WAAA,GACC,UAAAgB,EAAA,aAAA,EACqB,SAAA,CAE/BF,EAAA,KAAAG,EAAA,KAAO,CAAN,kBAAAT,EACC,KAAAjB,GAAA,YAAAA,EAAA,KACkB,aAAAA,GAAA,YAAAA,EAAA,aACQ,MAAAA,GAAA,YAAAA,EAAA,MACP,QAAA2B,GAAA,CAEjBjB,EAAA,CAAAD,CAAA,EACAb,GAAA,MAAAA,EAAA+B,EAAW,EACb,YAAAvB,EACA,UAAAqB,EAAA,WAAA,EAC6B,SAAApB,EAC7B,SAAA,CAEAgB,EAAA,IAAAK,EAAC,CAAA,GAAAhC,EACC,KAAAG,EACM,KAAA,SACD,IAAAF,EACL,MAAAoB,GAAA,YAAAA,EAAA,MACuB,SAAAvB,GAAAa,EACD,YAAAZ,EACtB,SAAAO,GAAA,YAAAA,EAAA,SACsB,WAAAA,GAAA,YAAAA,EAAA,WACE,SAAAK,CACxB,CAAA,EACFgB,EAAA,IAAAO,EAAA,EAAA,CACa,CAAA,CAAA,EACfP,EAAA,IACAQ,EAAC,CAAA,WAAAvB,EACC,OAAAG,EACA,QAAApB,EACA,SAAAa,EACA,MAAAU,EACO,MAAArB,EACP,YAAAY,EACA,SAAAa,GAAA,CAEEH,GAAA,MAAAA,EAAAG,GACAE,GAAA,MAAAA,EAAAF,GACA1B,GAAA,MAAAA,EAAA0B,GACAd,GACEQ,EAAA,EAAA,CACF,EACF,aAAAH,CACA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAGN"}