{"version":3,"file":"index-6cb3383c.js","sources":["../../../node_modules/.pnpm/react-feather@2.0.10_react@18.2.0/node_modules/react-feather/dist/icons/paperclip.js","../../../src/components/molecules/File/index.tsx"],"sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Paperclip = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48\"\n  }));\n});\nPaperclip.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nPaperclip.displayName = 'Paperclip';\nexport default Paperclip;","import { useRef } from 'react';\nimport { X, Paperclip } from 'react-feather';\n\nimport { Button, Label, Input } from '@components/atoms';\nimport type {\n  InputProps,\n  InputWrapProps,\n  LabelWithInputProps,\n} from '@components/atoms';\nimport {\n  useSubscribedState,\n  useTypographyClassName,\n  useValidationMessage,\n  useValidationMessageDynamicHeight,\n} from '@hooks';\nimport type { ValidateHandler, UseTypographyClassNameParams } from '@hooks';\nimport { cleanClassName } from '@utils';\n\nimport styles from './index.module.scss';\n\ninterface SavedFile {\n  name: string;\n  url: string;\n}\n\nexport interface FileProps extends Omit<LabelWithInputProps, 'required'> {\n  value?: SavedFile;\n  onChange?: (file?: File) => void;\n  download?: boolean;\n  disabled?: InputProps['disabled'];\n  readOnly?: InputProps['readOnly'];\n  accept?: string;\n  validation?: ValidateHandler<FileProps['value']>;\n  id?: string;\n  inputStyle?: {\n    size?: 'small' | 'medium' | 'large';\n  } & Pick<InputWrapProps, 'borderRadius' | 'width'> &\n    UseTypographyClassNameParams;\n  description?: InputWrapProps['description'];\n  requireMessage?: string;\n}\n\nconst getIconSizeBy = (size: 'small' | 'medium' | 'large' | undefined) => {\n  switch (size) {\n    case 'small':\n      return 16;\n    case 'medium':\n    case 'large':\n      return 18;\n    default:\n      return undefined;\n  }\n};\n\nexport const File = ({\n  children,\n  value,\n  onChange,\n  className,\n  download = true,\n  disabled = false,\n  accept,\n  validation,\n  label,\n  id,\n  labelStyle,\n  inputStyle,\n  description,\n  readOnly,\n  requireMessage,\n}: FileProps) => {\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const [savedFile, setSavedFile] = useSubscribedState(value);\n\n  const { typographyClassName } = useTypographyClassName({\n    fontSize: inputStyle?.fontSize,\n    fontWeight: inputStyle?.fontWeight,\n  });\n\n  const isClosable = !disabled && !readOnly;\n\n  const { validationMessage, validateOnChange, isRequried } =\n    useValidationMessage({\n      key: label,\n      value: savedFile,\n      validateHandler: validation,\n      validationTrigger: 'onChange',\n      requireMessage,\n    });\n\n  const { messageRef, wrapHeightStyle } = useValidationMessageDynamicHeight(\n    !!validationMessage || !!description,\n  );\n\n  return (\n    <Label.WithInput\n      className={className}\n      label={label}\n      inputStyle={inputStyle}\n      labelStyle={labelStyle}\n      required={isRequried}\n    >\n      <input\n        type=\"file\"\n        id={id}\n        className={styles['file-input']}\n        ref={inputRef}\n        accept={accept}\n        disabled={!!disabled}\n        onChange={({ target: { files } }) => {\n          const file = files?.[0];\n          if (file) {\n            const savedFile = {\n              name: file.name,\n              url: URL.createObjectURL(file),\n            };\n            onChange?.(file);\n            validateOnChange?.(savedFile);\n            setSavedFile?.(savedFile);\n          }\n        }}\n      />\n      {savedFile ? (\n        <>\n          <Input.Wrap\n            validationMessage={validationMessage}\n            borderRadius={inputStyle?.borderRadius}\n            size={inputStyle?.size}\n            width={inputStyle?.width}\n            description={description}\n            readOnly={readOnly}\n          >\n            <Paperclip size={getIconSizeBy(inputStyle?.size)} />\n            <a\n              target=\"_blank\"\n              href={!disabled ? savedFile?.url : undefined}\n              className={cleanClassName(\n                `${styles['download-link']} ${typographyClassName} ${\n                  !disabled ? styles.actived : styles.disabled\n                }\n                `,\n              )}\n              download={download}\n              rel=\"noreferrer\"\n            >\n              {savedFile?.name}\n            </a>\n            {isClosable && (\n              <Button\n                icon={<X size=\"1em\" />}\n                size=\"small3x\"\n                shape=\"pill\"\n                variant=\"ghost\"\n                color=\"bluishGray700\"\n                onClick={() => {\n                  setSavedFile?.(undefined);\n                  onChange?.(undefined);\n                  const { current } = inputRef;\n                  if (current) {\n                    current.value = '';\n                  }\n                }}\n              />\n            )}\n          </Input.Wrap>\n        </>\n      ) : (\n        <div\n          className={styles['upload-button-wrap']}\n          style={{\n            width: inputStyle?.width,\n          }}\n        >\n          <Button\n            size={inputStyle?.size}\n            className={styles['upload-button']}\n            fontSize={inputStyle?.fontSize}\n            fontWeight={inputStyle?.fontWeight}\n            disabled={!!disabled}\n            color=\"bluishGray400\"\n            onClick={() => inputRef.current?.click()}\n            width={inputStyle?.width}\n          >\n            {children}\n          </Button>\n          <div\n            className={`${styles['description-wrap']} ${\n              validationMessage && styles['validation-message-wrap']\n            }`}\n            style={wrapHeightStyle}\n          >\n            <p\n              ref={messageRef}\n              className={`${styles.description} ${\n                validationMessage && styles['validation-message']\n              }`}\n            >\n              {validationMessage || description}\n            </p>\n          </div>\n        </div>\n      )}\n    </Label.WithInput>\n  );\n};\n"],"names":["_extends","target","i","source","key","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","sourceKeys","Paperclip","forwardRef","_ref","ref","_ref$color","color","_ref$size","size","rest","React","PropTypes","Paperclip$1","getIconSizeBy","File","children","value","onChange","className","download","disabled","accept","validation","label","id","labelStyle","inputStyle","description","readOnly","requireMessage","inputRef","useRef","savedFile","setSavedFile","useSubscribedState","typographyClassName","useTypographyClassName","isClosable","validationMessage","validateOnChange","isRequried","useValidationMessage","messageRef","wrapHeightStyle","useValidationMessageDynamicHeight","jsxs","Label","jsx","styles","files","file","savedFile2","Fragment","Input","cleanClassName","Button","X","current","_a"],"mappings":"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","x_google_ignoreList":[0]}