import{j as d}from"./jsx-runtime-94f6e698.js";import{r as p,R as $}from"./index-8db94870.js";import"./Compatibility-ff615e1c.js";import{a as W}from"./useValidate-395f5a50.js";import{c as z}from"./cleanClassName-cdc1ff81.js";import{P as w}from"./index-1fc0ca9a.js";function y(){return y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},y.apply(this,arguments)}function M(t,e){if(t==null)return{};var s=A(t,e),a,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)a=o[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function A(t,e){if(t==null)return{};var s={},a=Object.keys(t),i,o;for(o=0;o<a.length;o++)i=a[o],!(e.indexOf(i)>=0)&&(s[i]=t[i]);return s}var k=p.forwardRef(function(t,e){var s=t.color,a=s===void 0?"currentColor":s,i=t.size,o=i===void 0?24:i,b=M(t,["color","size"]);return $.createElement("svg",y({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},b),$.createElement("polyline",{points:"20 6 9 17 4 12"}))});k.propTypes={color:w.string,size:w.oneOfType([w.string,w.number])};k.displayName="Check";const F=k,I="_options_e9maz_461",U="_closing_e9maz_473",B="_opening_e9maz_473",D="_top_e9maz_484",G="_bottom_e9maz_488",J="_selected_e9maz_534",Q="_hovered_e9maz_539",X="_show_e9maz_548",u={options:I,closing:U,opening:B,"fade-in":"_fade-in_e9maz_1","fade-out":"_fade-out_e9maz_1",top:D,bottom:G,"option-container":"_option-container_e9maz_493","option-wrap":"_option-wrap_e9maz_508","option-item":"_option-item_e9maz_513",selected:J,hovered:Q,"icon-wrap":"_icon-wrap_e9maz_544",show:X,"text-ellipsis":"_text-ellipsis_e9maz_552","shake-horizontal":"_shake-horizontal_e9maz_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_e9maz_1","slide-in-fwd-center":"_slide-in-fwd-center_e9maz_1","scale-in-center":"_scale-in-center_e9maz_1","slide-in-right":"_slide-in-right_e9maz_1","slide-in-left":"_slide-in-left_e9maz_1","slide-out-right":"_slide-out-right_e9maz_1","slide-out-left":"_slide-out-left_e9maz_1","scale-in-top":"_scale-in-top_e9maz_1","scale-out-top":"_scale-out-top_e9maz_1","swing-in-top-fwd":"_swing-in-top-fwd_e9maz_1","fade-in-top":"_fade-in-top_e9maz_1","fade-out-top":"_fade-out-top_e9maz_1","fade-in-bottom":"_fade-in-bottom_e9maz_1","fade-out-bottom":"_fade-out-bottom_e9maz_1","scale-out-horizontal":"_scale-out-horizontal_e9maz_1"},V=({opened:t=!1,options:e,multiple:s=!1,value:a,onChange:i,onKeyDown:o,float:b="bottom",className:C,optionStyle:r,cancelable:E=!0,textEllipsis:q=!1})=>{const[h,N]=p.useState(t);p.useEffect(()=>{N(f=>f!==t?t?"opening":"closing":f)},[t]);const x=typeof h=="string",[P,g]=p.useState(-1),[T,R]=p.useMemo(()=>[{width:r==null?void 0:r.width},{maxHeight:r==null?void 0:r.maxHeight}],[r==null?void 0:r.maxHeight,r==null?void 0:r.width]);p.useEffect(()=>{if(x){const f=h==="opening";g((e==null?void 0:e.findIndex(({value:n})=>n===a))??-1);const l=setTimeout(()=>N(f),250);return()=>clearTimeout(l)}},[x,h,e,a]);const v=p.useRef([]);p.useEffect(()=>{if(h===!0&&e){const f=l=>{switch(o==null||o(l),l.key){case"ArrowUp":return l.preventDefault(),g(n=>{var c;if(n>0){const m=n-1;return(c=v.current[m])==null||c.focus(),m}return n});case"ArrowDown":return l.preventDefault(),g(n=>{var c;if(n<e.length-1){const m=n+1;return(c=v.current[m])==null||c.focus(),m}return n});case"Enter":return l.preventDefault(),g(n=>{var c;return n>=0&&((c=v.current[n])==null||c.click()),n})}};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)}},[h,e,o]);const{typographyClassName:H}=W({fontSize:r==null?void 0:r.fontSize,fontWeight:r==null?void 0:r.fontWeight});return h&&(e!=null&&e.length)?d.jsx("section",{style:T,className:z(`${u.options} ${u[b]} ${x&&u[h]} ${C}`),children:d.jsx("ul",{className:z(u["option-container"]),style:R,children:e==null?void 0:e.map(({label:f,value:l},n)=>{const c=n===P,m=(()=>a===void 0?!1:s&&a instanceof Array?a.includes(l):a===l)();return d.jsx("li",{className:u["option-wrap"],children:d.jsxs("button",{type:"button",ref:_=>{v.current[n]=_},className:z(`${u["option-item"]} ${H} ${c&&u.hovered} ${m&&u.selected}`),onClick:()=>{if(s){const _=a??[],O=i;let j=_;m?E&&(j=_.filter(L=>L!==l)):j=[..._,l],O==null||O(j)}else{const _=i;_==null||_(m&&E?void 0:l)}},onMouseEnter:()=>{g(n)},children:[d.jsx("div",{className:z(q?`${u["text-ellipsis"]}`:void 0),children:f}),s?d.jsx("div",{className:z(`${u["icon-wrap"]} ${m&&u.show}`),children:d.jsx(F,{size:"1em"})}):null]})},n)})})}):d.jsx(d.Fragment,{})};try{V.displayName="Options",V.__docgenInfo={description:"",displayName:"Options",props:{opened:{defaultValue:{value:"false"},description:"",name:"opened",required:!1,type:{name:"boolean"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ label: string; value: OptionValue; }[]"}},multiple:{defaultValue:{value:"false as Multiple"},description:"",name:"multiple",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"ValidOptionValue | OptionValue[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value?: (Multiple extends true ? OptionValue[] : OptionValue)) => void)"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((event: KeyboardEvent) => void)"}},float:{defaultValue:{value:"bottom"},description:"",name:"float",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},optionStyle:{defaultValue:null,description:"",name:"optionStyle",required:!1,type:{name:'(UseTypographyClassNameParams & Pick<CSSProperties, "width" | "maxHeight">)'}},cancelable:{defaultValue:{value:"true"},description:"",name:"cancelable",required:!1,type:{name:"boolean"}},textEllipsis:{defaultValue:{value:"false"},description:"",name:"textEllipsis",required:!1,type:{name:"boolean"}}}}}catch{}export{F as C,V as O};
//# sourceMappingURL=index-2e847129.js.map
