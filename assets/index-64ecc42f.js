import{j as d}from"./jsx-runtime-4ca860c5.js";import{c as M}from"./index-75de0a99.js";import{r as _,R as V}from"./index-61bf1805.js";import"./Compatibility-d1e3055b.js";import{a as A}from"./useValidate-6435b2ea.js";import{c as z}from"./cleanClassName-cdc1ff81.js";import{P as b}from"./index-8d47fad6.js";function k(){return k=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},k.apply(this,arguments)}function F(t,e){if(t==null)return{};var n=I(t,e),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function I(t,e){if(t==null)return{};var n={},a=Object.keys(t),s,i;for(i=0;i<a.length;i++)s=a[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var E=_.forwardRef(function(t,e){var n=t.color,a=n===void 0?"currentColor":n,s=t.size,i=s===void 0?24:s,x=F(t,["color","size"]);return V.createElement("svg",k({ref:e,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},x),V.createElement("polyline",{points:"20 6 9 17 4 12"}))});E.propTypes={color:b.string,size:b.oneOfType([b.string,b.number])};E.displayName="Check";const U=E,B="_options_e9maz_461",D="_closing_e9maz_473",G="_opening_e9maz_473",J="_top_e9maz_484",Q="_bottom_e9maz_488",X="_selected_e9maz_534",Y="_hovered_e9maz_539",Z="_show_e9maz_548",u={options:B,closing:D,opening:G,"fade-in":"_fade-in_e9maz_1","fade-out":"_fade-out_e9maz_1",top:J,bottom:Q,"option-container":"_option-container_e9maz_493","option-wrap":"_option-wrap_e9maz_508","option-item":"_option-item_e9maz_513",selected:X,hovered:Y,"icon-wrap":"_icon-wrap_e9maz_544",show:Z,"text-ellipsis":"_text-ellipsis_e9maz_552","shake-horizontal":"_shake-horizontal_e9maz_1","tilt-in-fwd-tr":"_tilt-in-fwd-tr_e9maz_1","slide-in-fwd-center":"_slide-in-fwd-center_e9maz_1","scale-in-center":"_scale-in-center_e9maz_1","slide-in-right":"_slide-in-right_e9maz_1","slide-in-left":"_slide-in-left_e9maz_1","slide-out-right":"_slide-out-right_e9maz_1","slide-out-left":"_slide-out-left_e9maz_1","scale-in-top":"_scale-in-top_e9maz_1","scale-out-top":"_scale-out-top_e9maz_1","swing-in-top-fwd":"_swing-in-top-fwd_e9maz_1","fade-in-top":"_fade-in-top_e9maz_1","fade-out-top":"_fade-out-top_e9maz_1","fade-in-bottom":"_fade-in-bottom_e9maz_1","fade-out-bottom":"_fade-out-bottom_e9maz_1","scale-out-horizontal":"_scale-out-horizontal_e9maz_1"},C=({opened:t=!1,options:e,multiple:n=!1,value:a,onChange:s,onKeyDown:i,float:x="bottom",className:q,optionStyle:r,cancelable:N=!0,textEllipsis:P=!1})=>{const[p,$]=_.useState(t);_.useEffect(()=>{$(m=>m!==t?t?"opening":"closing":m)},[t]);const O=typeof p=="string",[T,g]=_.useState(-1),[R,H]=_.useMemo(()=>[{width:r==null?void 0:r.width},{maxHeight:r==null?void 0:r.maxHeight}],[r==null?void 0:r.maxHeight,r==null?void 0:r.width]);_.useEffect(()=>{if(O){const m=p==="opening";g((e==null?void 0:e.findIndex(({value:o})=>o===a))??-1);const l=setTimeout(()=>$(m),250);return()=>clearTimeout(l)}},[O,p,e,a]);const v=_.useRef([]);_.useEffect(()=>{if(p===!0&&e){const m=l=>{switch(i==null||i(l),l.key){case"ArrowUp":return l.preventDefault(),g(o=>{var c;if(o>0){const h=o-1;return(c=v.current[h])==null||c.focus(),h}return o});case"ArrowDown":return l.preventDefault(),g(o=>{var c;if(o<e.length-1){const h=o+1;return(c=v.current[h])==null||c.focus(),h}return o});case"Enter":return l.preventDefault(),g(o=>{var c;return o>=0&&((c=v.current[o])==null||c.click()),o})}};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)}},[p,e,i]);const{typographyClassName:L}=A({fontSize:r==null?void 0:r.fontSize,fontWeight:r==null?void 0:r.fontWeight});return p&&(e!=null&&e.length)?d.jsx("section",{style:R,className:z(`${u.options} ${u[x]} ${O&&u[p]} ${q}`),children:d.jsx("ul",{className:z(u["option-container"]),style:H,children:e==null?void 0:e.map(({label:m,value:l,disabled:o=!1},c)=>{const h=c===T,w=(()=>a===void 0?!1:n&&a instanceof Array?a.includes(l):a===l)();return d.jsx("li",{className:M(u["option-wrap"],{[u.disabled]:o}),children:d.jsxs("button",{type:"button",ref:f=>{v.current[c]=f},className:z(`${u["option-item"]} ${L} ${h&&u.hovered} ${w&&u.selected}`),onClick:()=>{if(n){const f=a??[],j=s;let y=f;w?N&&(y=f.filter(W=>W!==l)):y=[...f,l],j==null||j(y)}else{const f=s;f==null||f(w&&N?void 0:l)}},onMouseEnter:()=>{g(c)},children:[d.jsx("div",{className:z(P?`${u["text-ellipsis"]}`:void 0),children:m}),n?d.jsx("div",{className:z(`${u["icon-wrap"]} ${w&&u.show}`),children:d.jsx(U,{size:"1em"})}):null]})},c)})})}):d.jsx(d.Fragment,{})};try{C.displayName="Options",C.__docgenInfo={description:"",displayName:"Options",props:{opened:{defaultValue:{value:"false"},description:"",name:"opened",required:!1,type:{name:"boolean"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ label: string; value: OptionValue; disabled?: boolean; }[]"}},multiple:{defaultValue:{value:"false as Multiple"},description:"",name:"multiple",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"ValidOptionValue | OptionValue[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value?: (Multiple extends true ? OptionValue[] : OptionValue)) => void)"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"((event: KeyboardEvent) => void)"}},float:{defaultValue:{value:"bottom"},description:"",name:"float",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},optionStyle:{defaultValue:null,description:"",name:"optionStyle",required:!1,type:{name:'(UseTypographyClassNameParams & Pick<CSSProperties, "width" | "maxHeight">)'}},cancelable:{defaultValue:{value:"true"},description:"",name:"cancelable",required:!1,type:{name:"boolean"}},textEllipsis:{defaultValue:{value:"false"},description:"",name:"textEllipsis",required:!1,type:{name:"boolean"}}}}}catch{}export{U as C,C as O};
//# sourceMappingURL=index-64ecc42f.js.map
