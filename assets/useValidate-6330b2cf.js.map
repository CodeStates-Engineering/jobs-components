{"version":3,"file":"useValidate-6330b2cf.js","sources":["../../../src/utils/public/isAsync.ts","../../../src/hooks/private/useTypographyClassName.tsx","../../../src/hooks/private/useConvertChangeHandlerParam.tsx","../../../src/hooks/private/useFormatedValue.tsx","../../../src/hooks/private/useValidationMessageDynamicHeight.tsx","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_freeGlobal.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_root.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Symbol.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getRawTag.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_objectToString.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseGetTag.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObjectLike.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isSymbol.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_trimmedEndIndex.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseTrim.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObject.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/toNumber.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/now.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/debounce.js","../../../src/contexts/ValidationContext.ts","../../../src/hooks/private/useValidationMessage.tsx","../../../src/hooks/public/useValidate.tsx"],"sourcesContent":["// eslint-disable-next-line func-names, @typescript-eslint/no-empty-function, no-empty-function\nconst AsyncFunction = async function () {}.constructor;\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport const isAsync = (fn: Function) => fn instanceof AsyncFunction;\n","import { cleanClassName } from '@utils';\n\nimport styles from '../../styles/typography.module.scss';\n\ntype FontSize =\n  | 'large4x'\n  | 'large3x'\n  | 'large2x'\n  | 'large'\n  | 'medium'\n  | 'normal'\n  | 'small'\n  | 'small2x'\n  | 'small3x';\n\ntype FontWeight = 700 | 600 | 500 | 400;\n\nexport interface UseTypographyClassNameParams {\n  fontSize?: FontSize;\n  fontWeight?: FontWeight;\n}\n\nexport const useTypographyClassName = ({\n  fontSize,\n  fontWeight,\n}: UseTypographyClassNameParams) => ({\n  typographyClassName: cleanClassName(\n    `${styles[`font-size-${fontSize}`]} ${styles[`font-weight-${fontWeight}`]}`,\n  ),\n});\n","import { useMemo } from 'react';\n\nimport type { InputType } from './useFormatedValue';\n\nconst leftOnlyNumber = (value: string) => value.replace(/[^0-9]/g, '');\n\nexport const useConvertChangeHandlerParam = <T,>(type: InputType) =>\n  useMemo(() => {\n    switch (type) {\n      case 'number':\n      case 'large-number':\n        return (value) => (value ? Number(leftOnlyNumber(value)) : undefined);\n\n      case 'phone-number':\n        return (value) => {\n          let numberString = leftOnlyNumber(value);\n          if (numberString.length > 11) {\n            numberString = numberString.slice(0, 11);\n          }\n          return value ? numberString : undefined;\n        };\n\n      case 'business-number':\n        return (value) => {\n          let numberString = leftOnlyNumber(value);\n          if (numberString.length > 10) {\n            numberString = numberString.slice(0, 10);\n          }\n          return value ? numberString : undefined;\n        };\n\n      default:\n        return (value) => value || undefined;\n    }\n  }, [type]) as (value: string) => T;\n","import { useState } from 'react';\n\nexport type InputType =\n  | 'text'\n  | 'number'\n  | 'large-number'\n  | 'phone-number'\n  | 'business-number'\n  | 'password'\n  | 'button';\n\ninterface UseFormatedValueParams<T> {\n  value: T;\n  placeholder: string;\n  type: InputType;\n}\n\nexport const useFormatedValue = <T,>({\n  type,\n  value,\n  placeholder,\n}: UseFormatedValueParams<T>) => {\n  const [isDisplayFormatedValue, setIsDisplayFormatedValue] = useState(true);\n\n  return {\n    formatedValue: (() => {\n      if (!value) {\n        if (type === 'button') {\n          return placeholder;\n        }\n        if (value !== 0) {\n          return '';\n        }\n      }\n\n      const valueString = String(value);\n\n      if (!isDisplayFormatedValue) {\n        return valueString;\n      }\n\n      switch (type) {\n        case 'number':\n          return valueString;\n\n        case 'large-number':\n          return Number(valueString).toLocaleString();\n\n        case 'phone-number':\n          if (valueString.length === 10) {\n            return valueString.replace(/(\\d{3})(\\d{3})(\\d{4})/, '$1-$2-$3');\n          }\n          return valueString.replace(/(\\d{3})(\\d{4})(\\d{4})/, '$1-$2-$3');\n\n        case 'business-number':\n          return valueString.replace(/(\\d{3})(\\d{2})(\\d{5})/, '$1-$2-$3');\n\n        default:\n          return valueString;\n      }\n    })(),\n\n    setIsDisplayFormatedValue,\n  };\n};\n","import { useEffect, useRef, useState } from 'react';\n\nexport const useValidationMessageDynamicHeight = (\n  isMessageVisible: boolean,\n) => {\n  const messageRef = useRef<HTMLParagraphElement>(null);\n  const height = messageRef.current?.offsetHeight;\n\n  const [wrapHeightStyle, setWrapHeightStyle] =\n    useState<Pick<React.CSSProperties, 'height'>>();\n  useEffect(() => {\n    if (isMessageVisible) {\n      setWrapHeightStyle({\n        height,\n      });\n    } else {\n      setWrapHeightStyle(undefined);\n    }\n  }, [height, isMessageVisible]);\n\n  return {\n    messageRef,\n    wrapHeightStyle,\n  };\n};\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nexport default trimmedEndIndex;\n","import trimmedEndIndex from './_trimmedEndIndex.js';\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nexport default baseTrim;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import baseTrim from './_baseTrim.js';\nimport isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import root from './_root.js';\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nexport default now;\n","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","import { createContext } from 'react';\n\nexport type ValidationResult = string | undefined;\n\nexport type ValidationContextValue = Map<\n  string,\n  () => ValidationResult | Promise<ValidationResult>\n>;\n\n/**\n * @deprecated Use `ValidationContextValue` instead.\n */\nexport type ValidationStoreData = ValidationContextValue;\n\nexport const ValidationContext = createContext<ValidationContextValue | null>(\n  null,\n);\n","import { debounce } from 'lodash-es';\n\nimport { useState, useContext, useEffect, useMemo } from 'react';\n\nimport { ValidationContext } from '@contexts/ValidationContext';\nimport type { ValidationResult } from '@contexts/ValidationContext';\nimport { isAsync } from '@utils';\n\nexport type ValidateHandler<TValue> =\n  | ((value: TValue) => ValidationResult | Promise<ValidationResult>)\n  | undefined;\n\nexport type ValidationTrigger = 'onChange' | 'onBlur';\n\ninterface UseValidationMessageParams<TValue> {\n  validationTrigger?: ValidationTrigger;\n  key?: string;\n  value: TValue;\n  requireMessage?: string;\n  validateHandler: ValidateHandler<TValue>;\n}\n\nexport const useValidationMessage = <TValue,>({\n  key,\n  value,\n  validateHandler,\n  requireMessage,\n  validationTrigger = 'onBlur',\n}: UseValidationMessageParams<TValue>) => {\n  const validationContext = useContext(ValidationContext);\n\n  const [validationMessage, setValidationMessage] = useState<string>();\n\n  const handleValidate: ValidateHandler<TValue> = useMemo(() => {\n    if (!requireMessage && !validateHandler) {\n      return undefined;\n    }\n\n    const isRequireMessageVisibled = (value: TValue) =>\n      ((Array.isArray(value) && !value.length) || !value) && requireMessage;\n\n    if (validateHandler && isAsync(validateHandler)) {\n      return async (value) => {\n        if (isRequireMessageVisibled(value)) {\n          return requireMessage;\n        }\n        const validationMessage = await validateHandler(value);\n        return validationMessage;\n      };\n    }\n\n    return (value) => {\n      if (isRequireMessageVisibled(value)) {\n        return requireMessage;\n      }\n      const validationMessage = validateHandler?.(value);\n      return validationMessage;\n    };\n  }, [requireMessage, validateHandler]);\n\n  useEffect(() => {\n    if (validationContext && key && handleValidate) {\n      validationContext.set(\n        key,\n        isAsync(handleValidate)\n          ? async () => {\n              const validationMessage = await handleValidate(value);\n              setValidationMessage(validationMessage);\n              return validationMessage;\n            }\n          : () => {\n              const validationMessage = handleValidate(\n                value,\n              ) as ValidationResult;\n              setValidationMessage(validationMessage);\n              return validationMessage;\n            },\n      );\n\n      return () => {\n        validationContext.delete(key);\n      };\n    }\n  }, [handleValidate, key, validationContext, value]);\n\n  const validate = useMemo(\n    () =>\n      debounce(\n        async (value: TValue) =>\n          setValidationMessage(await handleValidate?.(value)),\n        300,\n      ),\n    [handleValidate],\n  );\n\n  const validateOnTrigger = {\n    onChange: {\n      validateOnChange: (value: TValue) => validate(value),\n    },\n    onBlur: {\n      validateOnBlur: () => validate(value),\n    },\n  }[validationTrigger];\n\n  return {\n    ...validateOnTrigger,\n    validationMessage,\n    validateOnChangeOption:\n      validationTrigger === 'onBlur' ? validate : undefined,\n    isRequried: !!requireMessage,\n  };\n};\n","import { useContext, useRef } from 'react';\n\nimport { ValidationContext } from '@contexts/ValidationContext';\nimport type { ValidationContextValue } from '@contexts/ValidationContext';\n\ninterface ValidateOptions {\n  scrollToFirstInvalid?: boolean;\n}\n\nexport const useValidate = () => {\n  const validationContext = useContext(ValidationContext);\n\n  const { current } = useRef(\n    (() => {\n      const scrollToFirstInvalid = (\n        invalidElementIds: string[],\n        options?: ValidateOptions,\n      ) => {\n        const scrollToFirstInvalid = options?.scrollToFirstInvalid ?? true;\n\n        if (scrollToFirstInvalid && !invalidElementIds.length) {\n          const [firstInvalidElementId] = invalidElementIds;\n\n          const firstInvalidElement = document.getElementById(\n            firstInvalidElementId,\n          );\n\n          firstInvalidElement?.scrollIntoView({\n            behavior: 'smooth',\n            block: 'center',\n          });\n        }\n      };\n\n      return {\n        validationContext,\n\n        validate: (options?: ValidateOptions) => {\n          const invalidElementIds: string[] = [];\n\n          validationContext?.forEach((validateOnChange, id) => {\n            if (validateOnChange()) {\n              invalidElementIds.push(id);\n            }\n          });\n\n          scrollToFirstInvalid(invalidElementIds, options);\n\n          return {\n            isValid: !invalidElementIds.length,\n            invalidElementIds,\n          };\n        },\n\n        validateAsync: async (options?: ValidateOptions) => {\n          const idList: string[] = [];\n\n          const validationMessageList = await Promise.all(\n            Array.from(validationContext?.entries() || []).map(\n              ([id, validateOnChange]) => {\n                idList.push(id);\n                return validateOnChange();\n              },\n            ),\n          );\n\n          const invalidElementIds = idList.filter(\n            (_, index) => validationMessageList[index],\n          );\n\n          scrollToFirstInvalid(invalidElementIds, options);\n\n          return {\n            isValid: validationMessageList.every((message) => !message),\n            invalidElementIds,\n          };\n        },\n      };\n    })(),\n  );\n\n  return current;\n};\n\nexport const validationObserver = <T extends object>(\n  Component: (props: T) => JSX.Element | null,\n) => {\n  const validationStore: ValidationContextValue = new Map();\n  // eslint-disable-next-line react/function-component-definition\n  return (props: T) => (\n    <ValidationContext.Provider value={validationStore}>\n      <Component {...props} />\n    </ValidationContext.Provider>\n  );\n};\n"],"names":["AsyncFunction","isAsync","fn","useTypographyClassName","fontSize","fontWeight","cleanClassName","styles","leftOnlyNumber","value","useConvertChangeHandlerParam","type","useMemo","numberString","useFormatedValue","placeholder","isDisplayFormatedValue","setIsDisplayFormatedValue","useState","valueString","useValidationMessageDynamicHeight","isMessageVisible","messageRef","useRef","height","_a","wrapHeightStyle","setWrapHeightStyle","useEffect","freeGlobal","freeGlobal$1","freeSelf","root","root$1","Symbol","Symbol$2","objectProto","hasOwnProperty","nativeObjectToString","symToStringTag","getRawTag","isOwn","tag","unmasked","result","objectToString","nullTag","undefinedTag","baseGetTag","isObjectLike","symbolTag","isSymbol","reWhitespace","trimmedEndIndex","string","index","reTrimStart","baseTrim","isObject","NAN","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","toNumber","other","isBinary","now","now$1","FUNC_ERROR_TEXT","nativeMax","nativeMin","debounce","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","args","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","flush","debounced","isInvoking","ValidationContext","createContext","useValidationMessage","key","validateHandler","requireMessage","validationTrigger","validationContext","useContext","validationMessage","setValidationMessage","handleValidate","isRequireMessageVisibled","value2","validationMessage2","validate","validationObserver","Component","validationStore","props","jsx"],"mappings":"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","x_google_ignoreList":[5,6,7,8,9,10,11,12,13,14,15,16,17,18]}